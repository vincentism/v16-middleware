<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Next.js 13 Middleware 验证</title><meta name="description" content="Next.js 13.x/14.x 中间件验证页面"/><meta name="next-head-count" content="4"/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-fd8027ecb5121007.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-6d18543c2c368b0c.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-f3ebd4188b988558.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-c54702eb327175a3.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/index-b3f7ea9a2a656f05.js" defer="" crossorigin=""></script><script src="/_next/static/UBgR7Buir-1DdviGzLiqn/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/UBgR7Buir-1DdviGzLiqn/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div><main style="padding:2rem;font-family:system-ui"><h1>Next.js 13.x/14.x Middleware 验证</h1><section style="margin-top:2rem"><h2>测试链接</h2><ul style="list-style:none;padding:0"><li style="margin:0.5rem 0"><a href="/api/test">/api/test - 测试 API 路由（应添加中间件响应头）</a></li><li style="margin:0.5rem 0"><a href="/protected/dashboard">/protected/dashboard - 测试认证重定向（无 token 应重定向到 /login）</a></li><li style="margin:0.5rem 0"><a href="/api/user">/api/user - 测试请求头修改</a></li></ul></section><section style="margin-top:2rem"><h2>版本信息</h2><p>Next.js 版本: 13.x/14.x</p><p>Middleware 文件: middleware.ts</p><p>Runtime: Edge (默认)</p><p>新特性: userAgent() helper, 增强的 matcher, 改进的 Cookies API</p></section><section style="margin-top:2rem"><h2>测试说明</h2><p>打开浏览器开发者工具，查看 Network 标签页中的响应头：</p><ul><li>x-middleware-version: 应显示 v13</li><li>x-forwarded-by: 应显示 middleware-v13</li><li>x-detected-bot: 如果是 bot，应显示 true</li></ul></section></main></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{}},"page":"/","query":{},"buildId":"UBgR7Buir-1DdviGzLiqn","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>